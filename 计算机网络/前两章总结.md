# 体系结构和物理层



## 第一章  计算机网络体系结构

### 1、计算机网络概述

#### 计算机网络的概念

~~~
计算机网络是一个将分散的、具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。
~~~

#### 计算机网络的组成

~~~
从组成部分上看：硬件、软件、协议。
从工作方式看:边缘部分、核心部分。
从功能组成上看：通信子网和资源子网。
~~~

#### 计算机网络的功能

~~~
数据通信：最基本、最重要，实现联网计算机之间的各种信息传输。
资源共享：软件、数据、硬件共享。
分布式处理：系统负载过重时，将某个复杂任务分配给网络中的中的其他计算机系统，提高整个系统的利用率。
提高可靠性：各个计算机可以通过网络互为替代机。
负载均衡：将工作任务均衡地分配给计算机网络中的各台计算机。
~~~

#### 计算机网络的分类

~~~
1、按分布范围：
广域网：直径几十千米到几千千米的区域，长距离通信，使用交换技术，点对点网络。
城域网：直径5-50km,多采用以太网技术。
局域网：直径为几十米到几千米，多使用广播技术。
个人区域网:用无线技术连接起来的网络，也常称为无线个人区域网，覆盖范围区域的直径约为10m。
2、按传输技术分类：
广播式网络：共享一个公共通信信道。
点对点网络：每条物理线路连接一对计算机，可分组存储转发。
3、按拓扑机构分类
总线型：优点建网容易、节省线路、缺点重负载时通信效率不高、总线任意一处对故障敏感。
星型网络：端用户之间的通信必须经过中央设备。缺点是成本高、中心设备对故障敏感。
环形网络：所有设备连成一个环，最典型的例子是令牌环局域网。
网状网络：一般情况，每个结点至少有两条路径与其他结点相连，多用在广域网，优点可靠性高，缺点是控制复杂、线路成本高。
4.按使用者分（了解）
公用网：指电信公司出资建造的大型网络。
专用网：指某个部门为满足本单位特殊业务的需要而建造的网络。
5.按交换技术分类
电路交换网络：专用通道，包括建立连接、传输数据、断开连接。优点：数据直接传送、时延小。缺点：线路利用率低、不能充分利用。
报文交换网络：用户数据加上源地址、目的地址、校验码等辅助信息，然后封装成报文，全部存储后再转发给下一个结点，也称存储-转发网络。
分组交换网络：也称包交换网络。将单个分组传送到相邻结点，存储后查找转发表，转发到下一个结点。主流均采用，时延小易于管理。
6.按传输介质分类
传输介质可分为有线网络和无线网络两大类。
有线网络可分为：双绞线、同轴电缆网络等。
无线网络可分为：蓝牙、微波、无线电等。
~~~

#### 计算机网络的标准化工作及相关组织

~~~
国际标准化组织（ISO）：其制定的主要网络标准或规范有OSI参考模型、HDLC等。
国际电信联盟（ITU）：其前身为国际电话电报咨询委员会，其下属机构制定了大量有关远程通信的标准。
国际电气电子工程师协会（IEEE):IEEE在通信领域最著名的研究成果是802标准。
~~~

#### 计算机网络的性能指标

~~~
1、带宽：在计算机网络中，带宽表示网络的通信线路所能传送数据的能力，是数字信道所能传送的“最高数据传输速率”的同义语。
2、时延：
发送时延：结点将分组的所有比特推向链路所需的时间。   发送时延=分组长度/信道宽度
传播时延：电磁波在信道中传播一定的距离需要花费的时间，即一个比特从链路的一端传播到另一端所需的时间。 
		传播时延=信道长度/电磁波在信道上的传播速率
处理时延：数据在交换结点为存储转发而进行的一些必要的处理所花费的时间。
排队时延：输入和输出过程中均需要排队，造成排队时延。

3、时延带宽积：链路可以容纳的比特数量。 时延带宽积=传播时延X信道带宽。
4、往返时延：指从发送端发送数据开始，到发送端收到来自接收端的确认，总共经历的时延。
5、吞吐量：单位时间内通过某个网络的数据量。
6、速率：也称数据传输速率、数据率或比特率，单位为b/s。通常把最高数据传输速率称为带宽。
7、信道利用率：信道利用率=有数据通过时间/(有+无)数据通过时间。
~~~

### 2、计算机网网络体系结构与参考模型

#### 计算机网络分层结构

~~~
 在计算机网络体系结构的各个层次中，每个报文都分为两部分：一是数据部分，即SDU;二是控制信息部分，即PCI,它们共同组成PDU。
 服务数据单元（SDU):为完成用户所要求的功能而应传送的数据。第n层的服务数据单元记为n-SDU。
 协议控制信息（PCI):控制协议操作的信息。第n层的协议控制信息记为n-PCI。
 协议数据单元（PDU):对等层次之间传送的数据单位称为该层的PDU。第n层的协议数据单元记为n-PDU。
 物理层的PDU称为比特，数据链路层的PDU称为帧，网络层的PDU称为分组，传输层的PDU称为报文段。
 n-SDU + n-PCI =n-PDU= (n-1)-SDU
 上一层只能通过相邻层间的接口使用下一层的服务。
~~~

#### 计算机网络协议、接口、服务的概念。

~~~
协议，就是规则的集合。协议由语法、语义、同步三部分组成。
语法规定了传输数据的格式。
语义规定了所要完成的功能，即需要发出何种控制信息、完成何种动作及做出何种应答。
同步规定了执行各种操作的条件、时序关系等。

接口：接口是同一结点内相邻两层间交换信息的连接点。

服务：是指下层为紧邻的上层提供的功能调用，它是垂直的。
服务分为三类：
	面向连接服务和无连接服务。
	可靠服务和不可靠服务。
	有应答服务和无应答服务。
~~~

#### ISO/OSI参考模型和TCP/IP模型 

~~~
1.OSI参考模型
物理层：规定了接口的一些参数和传输的信号的意义和电气特征。传输单位是比特。
数据链路层：将网络层传来的IP数组报组装成帧。功能：成帧、差错控制、流量控制、传输管理。传输单位是帧。
网络层：把网络层的协议数据单元从源端传到目的端，为分组交换网上的不同主机提供通信服务。传输单位i是数据报。
传输层：负责主机中两个进程之间的通信，功能是为端到端连接提供可靠的传输服务，为端到端连接提供流量控制、差错控制、服务质量、数据传输管理等服务。传输单位是报文段（TCP)或用户数据报（UDP).
会话层：允许不同主机上的各个进程之间进行会话。
表示层：主要处理在两个通信系统中交换信息的表示方式。
应用层：应用层是OSI参考模型的最高层，是用户与网络的界面。典型的协议有用于文件传送的FTP、用于电子邮件的SMTP、用于万维网的HTTP等。
2.TCP/IP模型
网络接口层、网际层、传输层、应用层。

OSI参考模型在网络层支持无连接和面向连接的通信，但在传输层仅有面向连接的通信。而TCP/IP模型认为可靠性是端到端的问题，因此它在网际层仅有一种无连接的通信模式，但传输层支持无连接和面向连接两种模式。



~~~

## 第二章 物理层

### 1.通信基础 

#### 基本概念

~~~
1.数据、信号、码元
数据是指传送信息的实体。
信号则是数据的电气或电磁表现，是数据在传输过程中的存在形式。
码元是指用一个固定时长的信号波形（数字脉冲）表示一位k进制数字，代表不同离散数值的基本波形，例如，在使用二进制编码时，只有两种不同的码元：一种代表0状态，另一种代表1状态。
2.信源、信道、信宿
信源是产生和发送数据的源头，信宿是接收数据的终点，它们通常都是计算机或其他数字终端装置。
信道按传输信号形式可分为模拟信道和数字信道。
信道按传输介质的可分为无线信道和有线信道。
双方通信交互方式：
1）单向通信。只有一个方向的通信而没有反方向的交互，仅需要一条信道。例如，无线电广播、电视广播就属于这种类型。
2）半双工通信。通信的双方都可以发送或接收信息，但任何一方都不能同时发送和接收信息，此时需要两条信道。
3）全双工通信。通信双方可以同时发送和接收信息，也需要两条信道。
信道的极限容量是指信道的最高码元传输速率或信道的极限信息传输速率。
3.速率、波特、带宽
速率也称数据率，指的是数据传输速率，表示单位时间内传输的数据量。
1）码元传输速率。又称波特率，它表示单位时间内数字通信系统所传输的码元个数，单位是波特（Baud)。
2）信息传输速率表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位是比特/秒（b/s)。
M波特率的码元传输速率所对应的信息传输速率为Mn比特/秒。
带宽表示单位时间内从网络中的某一点到另一点所能通过的“最高数据率”。
~~~

#### 奈奎斯特定理和香农定理

~~~
奈式准则：
W:带宽 V:表示有多少种不同的码元
极限码元传输速率为2W.
理想低通信道下的极限数据传输速率=2Wlog2 V(单位为 b/s)
结论：1.码元传输速率有上限2.分量越多，速率越高3.对码元速率有限制，但对信息传输速率无限制。

香农定理：
W:带宽 S:信道传输信号的平均功率 N:信道内部的高斯噪声功率 S/N：信噪比
信噪比=10lg（S/N) (单位为dB)
信道的极限数据传输速率=Wlog2(!+S/N)
结论：1.信噪比越大，信道的极限数据传输速率越大2.对于一定的带宽和信噪比，信息传输速率的上限确定3.信息传输速率低于信道的极限传输速率,就能找到某种方法实现无差错的传输。4.香农定理是个极限，实际比它低不少。
~~~

#### 编码与调制

~~~
1.数字数据-->数字信号 编码
1)归零编码
高电平为1 低电平为0 中间均跳变为低电平。
2）非归零编码
高电平为1 低电平为0 不用跳变
3）反向非归零编码
下一个是0跳变否则不变
4）曼彻斯特编码
前高后低是1 前低后高是0
5）差分曼彻斯特编码
前半个与上一个后半相同为1 不同为0
6）4B/5B编码
每四位为一组转换成相应的5位码。16为数据码16位控制码。

2.数字数据-->模拟信号 调制
1)幅移键控（ASK)
2)频移键控（FSK)
3)相移键控（PSK)
4)正交振幅调制（QAM) 频率相同的前提下，将ASK与PSK结合起来，形成叠加信号。

3.模拟数据-->数字信号 编码
采样频率必须大于等于最大频率f的两倍，这样保证无失真。
1）采样是对模拟信号进行周期性扫描把时间上连续的信号变成时间上离散的信号。  分割
2）量化是把采用取得的电平幅值按照一定的分级标度转化为对应的数字值并取整数。 转化
3）编码就是把量化的结果转化为与之对应的二进制编码。

4.模拟数据-->模拟信号 调制
FDM(频分复用),充分利用带宽资源。
~~~

#### 电路交换、报文交换与分组交换

~~~
1.电路交换
优点：
1）通信时延小  2）有序传输  3）没有冲突 4）适用范围广 5）实时性强 6）控制简单
缺点：
1）建立连接时间长 2）线路独占 3）灵活性差 4）难以规格化

2.报文交换
优点：
1）无需建立连接 2）动态分配链路 3）提高线路可靠性 4）提高线路利用率 5）提供多目标服务
缺点：
1）时延大 2）网络结点需要有较大的缓存空间

3.分组交换
优点：
1）无建立时延 2）线路利用率高 3）简化了存储管理 4）加速传输 5）减少了出错概率和重发数据量。
缺点：
1）存在传输时延 2）需要额外的信息量 3）可能会出现失序、丢失或重复分组。
~~~

#### 数据报与虚电路

~~~
1.数据报服务特点
1）无需建立连接，网络结点可随时发随时接收。
2）尽最大努力交付，不保证可靠性，不一定按序到达。
3）分组要包括发送端和接收端的完整地址，以便独立传输。
4）需排队等候，处理时延增加。
5）可更新转发表，对故障适应能力强。
6）存储转发的延时较小，提高了网络吞吐量。
7）收发不独占某条链路，资源利用率较高。

2.虚电路服务特点
1）对长时间、频繁的数据交换效率较高。
2）虚电路的路由选择体现在连接建立阶段，连接建立后，就确定了传输路径。
3）虚电路提供了可靠的通信功能，能保证每个分组正确且有序到达，还可进行流量控制。
4）致命弱点，某个结点失效，所有经过该链路的虚电路将遭到破坏。
5）分组首部没有目的地址，只有虚电路标识符，开销较小。
~~~

### 2.传输介质

#### 双绞线、同轴电缆、光纤、无线传输介质

~~~
1.双绞线
绞合可以减少对相邻导线的电磁干扰。再加一层形成屏蔽双绞线（STP),无屏蔽的双绞线称为非屏蔽双绞线（UTP).
模拟传输，要用放大器放大衰减的信号；数字传输，要用中继器将失真的信号整形。

2.同轴电缆
同轴电缆由内导体、绝缘层、网状编织屏蔽层和塑料外层构成。具有良好的抗干扰特性，传输距离更远，但价格较双绞线贵。

3.光纤
光纤通信就是利用光导纤维传递光脉冲来进行通信。优点：通信容量大，损耗小，抗电磁干扰好，无串音干扰，保密性好，体积小，重量轻。

4.无线介质传输
无线电波：具有较强的穿透能力，可以传输很长的距离，所以它被广泛应用于通信领域。
微波、红外线和激光：受气候影响大，误码率较高，成本高，保密性差。优点：通信容量大、距离远、覆盖广。
~~~

#### 物理层接口的特性

~~~
1）机械特性。指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。
2）电气特性。指明在接口电缆的各条线上出现的电压的范围。
3）功能特性。指明某条线上出现的某一电平的电压表示何种意义。
4）过程特性。或称规程特性。指明对于不同功能的各种可能事件的出现顺序。
~~~

### 3.物理层设备

#### 中继器

~~~
中继器的主要功能是将信号整形并放大再转发出去，以消除信号经过一长段电缆后而产生的失真和衰减，使信号的波形和强度达到所需要的要求，进而扩大网络传输的距离。
5-4-3规则：在采用粗同轴电缆的10BASE5 以太网规范中，互相串联的中继器的个数不能超过4个，而且用4个中继器串联的5段通信介质中只有3段可以挂接计算机，其余两段只能用作扩展通信范围的链路段，不能挂接计算机。
~~~

#### 集线器

~~~
    集线器（Hub）实质上是一个多端口的中继器。当Hub工作时，一个端口接收到数据信号后，由于信号在从端口到Hub的传输过程中已有衰减，所以Hub便将该信号进行整形放大，使之再生（恢复）到发送时的状态。它在网络中只起信号方法和转发作用，目的是扩大网络的传输范围，而不具备信号的定向传送能力，即信号传输的方向是固定的，是一个标准的共享式设备。
    由Hub组成的网络是共享式网络，但逻辑上仍然是一个总线网。Hub的每个端口连接的网络部分是同一个网络的不同网段，同时Hub也只能在半双工状态下工作，网络的吞吐率因而受到限制。
~~~

