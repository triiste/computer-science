# 经典面试题

### 1.微程序控制的基本思想

~~~
  微程序控制的基本思想是把机器指令的每一操作控制步编成一条微指令。每条机器指令对应一段微程序。    
  
  执行机器指令时，从控制存储器中顺序取出这些微指令，就可按所要求的次序产生相应的操作控制信号。 
~~~

### 2.冯诺依曼计算机特点

~~~
1）计算机硬件系统由运算器、存储器、控制器、输入设备和输出设备5大部件组成。
2）指令和数据以同等地位存储在存储器中，并可按地址寻访。
3）指令和数据均用二进制代码表示。
4）指令由操作码和地址码组成，操作码指出操作的类型，地址码指出操作数的地址。
5）指令在存储器内按顺序存放。通常，指令是顺序执行的，在特定条件下可根据运算结果或根据设定的条件改变执行顺序。
6）早期的冯·诺依曼机以运算器为中心，输入/输出设备通过运算器与存储器传送数据。
~~~

### 3.总线概念、分类

~~~
总线是一组能为多个部件分时共享的公共信息传送线路。分时和共享是总线的两个特点。
分时是指同一时刻只允许有一个部件向总线发送信息，若系统中有多个部件，则它们只能分时地向总线发送信息。
共享是指总线上可以挂接多个部件，各个部件之间互相交换的信息都可通过这组线路分时共享。在某一时刻只允许有一个部件向总线发送信息，但多个部件可同时从总线上接收相同的信息。
总线分类：
1.片内总线
2.系统总线
3.通信总线
~~~

### 4.两类存储器各自特点rom和ram

~~~
随机存储器（RAM）。存储器的任何一个存储单元的内容都可以随机存取，而且存取时间与存储单元的物理位置无关。其优点是读写方便、使用灵活，主要用作主存或高速缓冲存储器。
只读存储器（ROM）。存储器的内容是只能随机读出而不能写入。信息一旦写入存储器就固定不变，即使断电，内容也不会丢失。因此，通常用它存放固定不变的程序、常数和汉字字库等。它与随机存储器可共同作为主存的一部分，统一构成主存的地址域。
~~~

### 5.RAM中的两类的区别：静态和动态

~~~
静态随机存储器（SRAM）的存储元是用双稳态触发器（六晶体管MOS）来记忆信息的，因此即使信息被读出后，它仍保持其原状态而不需要再生（非破坏性读出）。
SRAM的存取速度快，但集成度低，功耗较大，所以一般用来组成高速缓冲存储器。

动态随机存取器（DRAM）是利用存储元电路中栅极电容上的电荷来存储信息的，DRAM的基本存储元通常只使用一个晶体管，所以它比SRAM的密度要高很多。DRAM采用地址复用技术，地址线是原理的1/2，地址信号分行、列两次传送。
相比于SRAM来说，DRAM具有容易集成、价位低、容量大和功耗低等优点，但DRAM的存取速度比SRAM的慢，一般用来组成大容量主存系统。
DRAM电容上的电荷一般只能维持1~2ms,因此即使电源不断电，信息也会自动消失。为此，每隔一定时间必须刷新，通常取2ms，称为刷新周期。
~~~

### 6.存储器如何扩展

~~~
位扩展指的是用多个存储器器件对字长进行扩充，如用2个16KX4位芯片组成16KX8位的存储器。

字扩展指的是增加存储器中字的数量。如用4个16KX8位芯片组成64KX8位存储器。

字位同时扩展：一个存储器的容量为MXN位，若使用LXK位存储器芯片，那么，这个存储器共需要(M/L)X(N/K)个存储器芯片。
~~~

### 7.计算机中浮点数如何存储

### 8.中断服务程序的流程

~~~
1.关中断
2.保存断点
3.引出中断服务程序
4.保存现场和屏蔽字
5.开中断
6.执行中断服务程序
7.关中断
8.恢复现场和屏蔽字
9.开中断
~~~

### 9.快表tlb和高速缓存存储器的区别

~~~
1、快表TLB： 用于虚拟存储技术，是为了加快辅存向主存的地址映射速度（主存—辅存系统）
2、高速缓存器cache：用于解决CPU与主存速度不匹配问题。（CPU—主存系统）
2.1、cache补充：因为CPU速度远高于主存，主存跟不上，导致CPU的大量时间在等待主存，效率低下。因为cache速度介于CPU与主存之间，价格也介于两者之间，所以人们在CPU与主存之间添加“高速缓冲器cache”来缓解速度不匹配问题。
总的来说，两者属于两个不同的系统层次，功能也不同。
~~~

### 10. cache的基本工作原理、主存与cache的地址映射关系、cache的写策略

~~~
为什么需要cache？
    由于 CPU 和主存所使用的半导体器件工艺不同，两者速度上的差异导致快速的 CPU 等待慢速的存储器，为此需要想办法提高 CPU 访问主存的速度。除了提高 DRAM 芯片本身的速度和采用并行结构技术以外，加快 CPU 访存速度的主要方式之一是在 CPU 和主存之间增加高速缓冲器，也就是我们主角 Cache。Cache 位于 CPU 和内存之间，可以节省 CPU 从外部存储器读取指令和数据的时间。
工作原理
    cache 是一种小容量高速缓冲存储器，由快速的 SRAM 组成，直接制作在 CPU 芯片内，速度较快，几乎与 CPU 处于同一个量级。在 CPU 和主存之间设置 cache，总是把主存中被频繁访问的活跃程序块和数据块复制到 cache 中。由于程序访问的局部性，大多数情况下，CPU 可以直接从 cache 中直接取得指令和数据，而不必访问慢速的主存。
    为了方便 cache 和主存间交换信息，cache 和主存空间都被划分为相等的区域。例如将主存中一个 512 个字节的区域称作一个块（block），cache 中存放一个主存块的区域称作行（line）。  
~~~

<img src="https://img-blog.csdnimg.cn/20190506130839332.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTIzMDg1ODY=,size_16,color_FFFFFF,t_70" alt="img" style="zoom:50%;" />

~~~
Cache和主存的映射关系
1.直接映射
2.全相联映射
3.组相联映射
~~~

~~~###
Cache中的内容是主存块副本，当对Cache中的内容进行更新时，就需选用写操作策略使Cache内存和主存内容保持一致。此时分两种情况。
对于Cache写命中（write hit），有两种处理方法。
1）全写法。当CPU对Cache写命中时，必须把数据同时写入Cache和主存。当某一块需要替换时，不必把这一块写回主存，用新调入的块直接覆盖即可。这种方法实现简单，能随时保持主存数据的正确性。缺点是增加了访存次数，降低了Cache的效率。写缓冲：为减少全写法直接写入内存的时间损耗，在Cache和主存之间加一个写缓冲。CPU同时写数据到Cache和写缓冲中，写缓冲再控制将内容写入主存。写缓冲是一个FIFO队列，写缓冲可以解决速度不匹配的问题。若出现频繁写时，会使写缓冲饱和溢出。
2）写回法。当CPU对Cache写命中时，只修改Cache的内容，而不立即写入主存，只有当此块被换出时才写回主存。这种方法减少了访存次数，但存在不一致的隐患。采用这种策略时，每个Cache行必须设置一个标志位（脏位），以反映此块是否被CPU修改过。

对于Cache写不命中，也有两种处理方法。
1）写分配法。加载主存中的块到Cache中，然后更新这个Cache块。它试图利用程序的空间局部性，但缺点是每次不命中都需要从主存中读取一块。
2）非写分配法。只写入主存，不进行调块。
非写分配法通常与全写法合用，写分配法通常和写回法合用。
~~~

### 11. risc特点、对应的cisc特点

~~~
精简指令系统计算机（RISC）的中心思想是要求指令系统简化，尽量使用寄存器-寄存器操作指令，指令格式力求一致。RISC的主要特点：
1）选取使用频率最高的一些简单指令，复杂指令的功能由简单指令的组合来实现。
2）指令长度固定，指令格式种类少，寻址方式种类少。
3）只有Load/Store(取数/存数)指令访存，其余指令的操作都在寄存器之间进行。
4）CPU中通用寄存器的数量相当多。
5）RISC一定采用指令流水线技术，大部分指令在一个时钟周期内完成。
6）以硬布线控制为主，不用或少用微程序控制。
7）特别重视编译优化工作，以减少程序执行时间。


复杂指令系统计算机（CISC）的主要特点：
1）指令系统复杂庞大，指令数目一般为200多条以上。
2）指令的长度不固定，指令格式多，寻址方式多。
3）可以访存的指令不受限制。
4）各种指令使用频度相差很大。
5）各种指令执行时间相差很大，大多数指令需多个时钟周期才能完成。
6）控制器大多数采用微程序控制。有些指令非常复杂，以至于无法采用硬连线控制。
7）难以用优化编译生成高效的目标代码程序。
~~~

### 12.指令流水线的基本概念、如何实现、影响因素

~~~
一条指令的执行过程：取指、分析、执行。
采用流水线方式具有如下特点：
1）把一个任务分解为几个有联系的子任务，每个子任务由一个专门的功能部件来执行，并依靠多个功能部件并行工作来缩短程序的执行时间。
2）流水线每个功能段部件后面都要有一个缓冲寄存器，或称锁存器，其作用是保存本流水段的执行结果，供给下一流水线段使用。
3）流水线中各功能段的时间应尽量相等，否则将引起堵塞、断流。
4）必须是连续任务
5）需要有装入时间和排空时间
~~~

### 13.什么是RAID？

~~~
    RAID( Redundant Array of Independent Disk 独立冗余磁盘阵列 )技术是加州大学伯克利分校1987年提出，最初是为了组合小的廉价磁盘来代替大的昂贵磁盘，同时希望磁盘失效时不会使对数据的访问受损失而开发出一定水平的数据保护技术。RAID就是一种由多块廉价磁盘构成的冗余阵列，在操作系统下是作为一个独立的大型存储设备出现。RAID可以充分发挥出多块硬盘的优势，可以提升硬盘速度，增大容量，提供容错功能够确保数据安全性，易于管理的优点，在任何一块硬盘出现问题的情况下都可以继续工作，不会受到损坏硬盘的影响。
~~~

### 14.主存储器中MAR和MDR

~~~
MAR和MDR是寄存器，位于CPU中。前者是地址寄存器（用来储存地址），后者是数据寄存器（用来储存数据）。CPU将内存中的数据读出后，先要放入到CPU流水线的寄存器中，再对数据进行运算处理。就比如你从仓库（内存）里拿来原材料，要放入流水线的进料口（奇存器）中，然后流水线再对原材料进做一步加工。
~~~

### 15. IO设备的编址方式及其优缺点

~~~
统一编制，又称存储器映射方式，是指把I/O端口当作存储器的单元进行地址分配。这种方式CPU不需要设置专门的I/O指令，用统一的访存指令就可以访问I/O端口。
优点：不需要专门的输入/输出指令，可使CPU访问I/O的操作更灵活、更方便，还使端口有较大的编址空间。
缺点：端口占用存储器地址，使内存容量变小，而且利用存储器编址的I/O设备进行数据输入/输出操作，执行速度很慢。

独立编址，又称I/O映射方式，I/O端口的地址空间与主存地址空间是两个独立的地址空间，因而无法从地址码的形式上区分，需要设置专门的I/O指令来访问I/O端口。
优点：输入/输出指令与存储器指令有明显区别，程序编制清晰，便于理解。
缺点：输入/输出指令少，一般只能对端口进行传送操作，尤其需要CPU提供存储器读/写、I/O设备读/写两组控制信号，增加了控制的复杂性。
~~~

